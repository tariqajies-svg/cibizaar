<?php
/**
 * This file is part of the Magebit_PageBuilder package.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this package
 * to newer versions in the future.
 *
 * @copyright Copyright (c) 2024 Magebit, Ltd. (https://magebit.com/)
 * @author    Magebit <info@magebit.com>
 * @license   MIT
 */
declare(strict_types=1);

use Magebit\PageBuilder\Block\Slide;
use Magento\Framework\Escaper;

/** @var Slide $block */
/** @var Escaper $escaper */

$backgroundImage = $block->getBackgroundImage();
$mobileImage = $block->getMobileImage();
$videoFallbackImage = $block->getVideoFallbackImage();
?>
<?php if ($backgroundImage): ?>
    <link rel="preload"
          media="(min-width: 768px)"
          href="<?= $escaper->escapeUrl($backgroundImage[0]->url) ?>"
          as="image"
          fetchpriority="high">
<?php endif; ?>
<?php if ($mobileImage): ?>
    <link rel="preload"
          media="(max-width: 767px)"
          href="<?= $escaper->escapeUrl($mobileImage[0]->url) ?>"
          as="image"
          fetchpriority="high">
<?php endif; ?>
<?php if ($videoFallbackImage): ?>
    <link rel="preload"
          href="<?= $escaper->escapeUrl($videoFallbackImage[0]->url) ?>"
          as="image"
          fetchpriority="high">
<?php endif; ?>
