<?php
/**
 * This file is part of the Magebit_Analytics package.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magebit_Dunkin
 * to newer versions in the future.
 *
 * @copyright Copyright (c) 2023 Magebit, Ltd. (https://magebit.com/)
 * @author    Magebit <info@magebit.com>
 */

/** @var \Magento\Framework\View\Element\Template $block */
/** @var \Magento\Framework\Escaper $escaper */
/** @var \Magebit\Analytics\ViewModel\Adwords $adsViewModel */

$adsViewModel = $block->getViewModel();
?>

<?php if ($adsViewModel->isGoogleAdwordsConfigurable() && $adsViewModel->isGoogleAdwordsActive()): ?>
    <?php $conversionId = $escaper->escapeHtml($adsViewModel->getConversionId()); ?>
    <?php $conversionLabel = $escaper->escapeHtml($adsViewModel->getConversionLabel()); ?>
    <?php $gtagSiteSrc = $adsViewModel->getConversionGtagGlobalSiteTagSrc(); ?>
    <!-- BEGIN GOOGLE ADWORDS CODE -->
    <script type="text/x-magento-init">
    {
        "*": {
            "Magento_GoogleGtag/js/google-adwords": {
                "conversionId": "<?= $escaper->escapeHtml($conversionId);  ?>",
                "gtagSiteSrc": "<?= $escaper->escapeHtml($gtagSiteSrc);  ?>",
                "conversionLabel": "<?= $escaper->escapeHtml($conversionLabel);  ?>"
            }
        }
    }
    </script>
    <!-- END GOOGLE ADWORDS CODE -->
<?php endif ?>
